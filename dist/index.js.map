{"version":3,"file":"index.js","sources":["../index.ts"],"sourcesContent":["type Options = {\r\n  openDelimiter: string;\r\n  closeDelimiter: string;\r\n};\r\n\r\nfunction tempjs(\r\n  template: string,\r\n  data: Record<string, unknown>,\r\n  opts: Options = { openDelimiter: \"{{\", closeDelimiter: \"}}\" }\r\n): string {\r\n  const delimiterRegex = new RegExp(\r\n    opts.openDelimiter + \"([\\\\s\\\\S]*?)\" + opts.closeDelimiter,\r\n    \"gi\"\r\n  );\r\n\r\n  const result: string[] = [];\r\n\r\n  const templateText = template.split(\r\n    new RegExp(opts.openDelimiter + \"[\\\\s\\\\S]*?\" + opts.closeDelimiter, \"gi\")\r\n  );\r\n\r\n  let index = 0;\r\n  let match: RegExpExecArray;\r\n  while ((match = delimiterRegex.exec(template)) !== null) {\r\n    const jsInstruction = match[1];\r\n    const text = JSON.stringify(templateText[index]);\r\n    result.push(`${text} + ((function(){ ${jsInstruction} })() ?? \"\")`);\r\n    ++index;\r\n  }\r\n\r\n  const code = \"return \" + result.join(\" + \");\r\n  return new Function(...Object.keys(data), code).apply(\r\n    null,\r\n    Object.values(data)\r\n  );\r\n}\r\n\r\nexport default tempjs;\r\n"],"names":[],"mappings":";;;;;;EAKA,SAAS,MAAM,CACb,QAAgB,EAChB,IAA6B,EAC7B,IAAA,GAAgB,EAAE,aAAa,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,EAAA;EAE7D,IAAA,MAAM,cAAc,GAAG,IAAI,MAAM,CAC/B,IAAI,CAAC,aAAa,GAAG,cAAc,GAAG,IAAI,CAAC,cAAc,EACzD,IAAI,CACL,CAAC;MAEF,MAAM,MAAM,GAAa,EAAE,CAAC;MAE5B,MAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,CACjC,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,YAAY,GAAG,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAC1E,CAAC;MAEF,IAAI,KAAK,GAAG,CAAC,CAAC;EACd,IAAA,IAAI,KAAsB,CAAC;EAC3B,IAAA,OAAO,CAAC,KAAK,GAAG,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAE;EACvD,QAAA,MAAM,aAAa,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;UAC/B,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;UACjD,MAAM,CAAC,IAAI,CAAC,CAAA,EAAG,IAAI,CAAoB,iBAAA,EAAA,aAAa,CAAc,YAAA,CAAA,CAAC,CAAC;EACpE,QAAA,EAAE,KAAK,CAAC;EACT,KAAA;MAED,MAAM,IAAI,GAAG,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;MAC5C,OAAO,IAAI,QAAQ,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,KAAK,CACnD,IAAI,EACJ,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CACpB,CAAC;EACJ;;;;;;;;"}