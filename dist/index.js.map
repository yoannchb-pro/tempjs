{"version":3,"file":"index.js","sources":["../index.ts"],"sourcesContent":["type Options = {\r\n  openDelimiter: string;\r\n  closeDelimiter: string;\r\n};\r\n\r\nfunction tempjs(\r\n  template: string,\r\n  data: Record<string, unknown>,\r\n  opts: Options = { openDelimiter: \"{{\", closeDelimiter: \"}}\" }\r\n): string {\r\n  const delimiterRegex = new RegExp(\r\n    opts.openDelimiter + \"([\\\\s\\\\S]*?)\" + opts.closeDelimiter,\r\n    \"gi\"\r\n  );\r\n\r\n  const result: string[] = [];\r\n\r\n  const templateText = template.split(\r\n    new RegExp(opts.openDelimiter + \"[\\\\s\\\\S]*?\" + opts.closeDelimiter, \"gi\")\r\n  );\r\n\r\n  let match: RegExpExecArray;\r\n  while ((match = delimiterRegex.exec(template)) !== null) {\r\n    const jsInstruction = match[1];\r\n    const text = JSON.stringify(templateText.shift());\r\n    result.push(\r\n      (text ? text + \"+\" : \"\") + `((function(){ ${jsInstruction} })()??\"\")`\r\n    );\r\n  }\r\n\r\n  const code =\r\n    \"return \" +\r\n    result.join(\" + \") +\r\n    (templateText.length > 0 ? \"+\" + JSON.stringify(templateText.shift()) : \"\");\r\n  return new Function(...Object.keys(data), code).apply(\r\n    null,\r\n    Object.values(data)\r\n  );\r\n}\r\n\r\nexport default tempjs;\r\n"],"names":[],"mappings":";;;;;;EAKA,SAAS,MAAM,CACb,QAAgB,EAChB,IAA6B,EAC7B,IAAA,GAAgB,EAAE,aAAa,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,EAAA;EAE7D,IAAA,MAAM,cAAc,GAAG,IAAI,MAAM,CAC/B,IAAI,CAAC,aAAa,GAAG,cAAc,GAAG,IAAI,CAAC,cAAc,EACzD,IAAI,CACL,CAAC;MAEF,MAAM,MAAM,GAAa,EAAE,CAAC;MAE5B,MAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,CACjC,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,YAAY,GAAG,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAC1E,CAAC;EAEF,IAAA,IAAI,KAAsB,CAAC;EAC3B,IAAA,OAAO,CAAC,KAAK,GAAG,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAE;EACvD,QAAA,MAAM,aAAa,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;UAC/B,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC;UAClD,MAAM,CAAC,IAAI,CACT,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,EAAE,IAAI,CAAiB,cAAA,EAAA,aAAa,CAAY,UAAA,CAAA,CACtE,CAAC;EACH,KAAA;MAED,MAAM,IAAI,GACR,SAAS;EACT,QAAA,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;WACjB,YAAY,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;MAC9E,OAAO,IAAI,QAAQ,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,KAAK,CACnD,IAAI,EACJ,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CACpB,CAAC;EACJ;;;;;;;;"}